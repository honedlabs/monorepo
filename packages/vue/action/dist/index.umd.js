(function(l,r){typeof exports=="object"&&typeof module<"u"?r(exports,require("vue"),require("@inertiajs/vue3"),require("axios")):typeof define=="function"&&define.amd?define(["exports","vue","@inertiajs/vue3","axios"],r):(l=typeof globalThis<"u"?globalThis:l||self,r(l["@honed/action"]={},l.Vue,l.Inertia,l.axios))})(this,function(l,r,b,E){"use strict";function w(e,a,f,n={}){if(e.route){const{url:o,method:c}=e.route;return e.inertia?window.location.href=o:b.router.visit(o,{...n,method:c}),!0}if(!e.action||!a)return!1;const i={...f,name:e.name,type:e.type};return e.inertia?b.router.post(a,i,n):E.post(a,i).catch(o=>{var c;return(c=n.onError)==null?void 0:c.call(n,o)}),!0}function x(e,a,f,n={},i={}){return w(e,a,{...n,id:f??void 0},i)}function p(e,a,f,n={},i={}){return e.map(o=>({...o,execute:(c={},d={})=>x(o,a,f,{...i,...c},{...n,...d})}))}function S(e,a,f={}){if(!(e!=null&&e[a]))throw new Error("The batch must be provided with valid props and key.");const n=r.computed(()=>e[a]),i=r.computed(()=>h(n.value.inline)),o=r.computed(()=>h(n.value.bulk)),c=r.computed(()=>h(n.value.page));function d(u,s={},v={}){return x(u,n.value.endpoint,n.value.id,s,{...f,...v})}function h(u){return p(u,n.value.endpoint,n.value.id,f)}function m(u,s,v={}){return d(u,s,v)}function y(u,s,v={}){return d(u,s,v)}function t(u,s={},v={}){return d(u,s,v)}return{inline:i,bulk:o,page:c,executeInline:m,executeBulk:y,executePage:t}}function B(){const e=r.ref({all:!1,only:new Set,except:new Set});function a(){e.value.all=!0,e.value.only.clear(),e.value.except.clear()}function f(){e.value.all=!1,e.value.only.clear(),e.value.except.clear()}function n(...t){t.forEach(u=>e.value.except.delete(u)),t.forEach(u=>e.value.only.add(u))}function i(...t){t.forEach(u=>e.value.except.add(u)),t.forEach(u=>e.value.only.delete(u))}function o(t,u){if(c(t)||u===!1)return i(t);if(!c(t)||u===!0)return n(t)}function c(t){return e.value.all?!e.value.except.has(t):e.value.only.has(t)}const d=r.computed(()=>e.value.all&&e.value.except.size===0),h=r.computed(()=>e.value.only.size>0||d.value);function m(t){return{"onUpdate:modelValue":u=>{u?n(t):i(t)},modelValue:c(t),value:t}}function y(){return{"onUpdate:modelValue":t=>{t?a():f()},modelValue:d.value}}return{allSelected:d,selection:e,hasSelected:h,selectAll:a,deselectAll:f,select:n,deselect:i,toggle:o,selected:c,bind:m,bindAll:y}}l.executables=p,l.execute=w,l.executor=x,l.useBatch=S,l.useBulk=B,Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})});
