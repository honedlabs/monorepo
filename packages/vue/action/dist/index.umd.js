(function(i,d){typeof exports=="object"&&typeof module<"u"?d(exports,require("@inertiajs/vue3"),require("vue")):typeof define=="function"&&define.amd?define(["exports","@inertiajs/vue3","vue"],d):(i=typeof globalThis<"u"?globalThis:i||self,d(i["@honed/action"]={},i.Inertia,i.Vue))})(this,function(i,d,o){"use strict";function v(t,a,c={},n={}){return t.route?(d.router.visit(t.route.url,{...n,method:t.route.method}),!0):t.action&&a?(d.router.post(a,{...c,name:t.name,type:t.type},n),!0):!1}function x(t,a,c={}){if(!t||!a||!t[a])throw new Error("The action group must be provided with valid props and key.");const n=o.computed(()=>t[a]),s=o.computed(()=>n.value.inline.map(l=>({...l,execute:(e,u={})=>r(l,e,u)}))),h=o.computed(()=>n.value.bulk.map(l=>({...l,execute:(e,u={})=>p(l,e,u)}))),f=o.computed(()=>n.value.page.map(l=>({...l,execute:(e={},u={})=>m(l,e,u)})));function r(l,e,u={}){v(l,n.value.endpoint,{...e,id:n.value.id},{...c,...u})}function p(l,e,u={}){v(l,n.value.endpoint,{...e,id:n.value.id},{...c,...u})}function m(l,e={},u={}){v(l,n.value.endpoint,{...e,id:n.value.id},{...c,...u})}return o.reactive({inline:s,bulk:h,page:f,executeInlineAction:r,executeBulkAction:p,executePageAction:m})}function A(){const t=o.ref({all:!1,only:new Set,except:new Set});function a(){t.value.all=!0,t.value.only.clear(),t.value.except.clear()}function c(){t.value.all=!1,t.value.only.clear(),t.value.except.clear()}function n(...e){e.forEach(u=>t.value.except.delete(u)),e.forEach(u=>t.value.only.add(u))}function s(...e){e.forEach(u=>t.value.except.add(u)),e.forEach(u=>t.value.only.delete(u))}function h(e,u){if(f(e)||u===!1)return s(e);if(!f(e)||u===!0)return n(e)}function f(e){return t.value.all?!t.value.except.has(e):t.value.only.has(e)}const r=o.computed(()=>t.value.all&&t.value.except.size===0),p=o.computed(()=>t.value.only.size>0||r.value);function m(e){return{"onUpdate:modelValue":u=>{u?n(e):s(e)},modelValue:f(e),value:e}}function l(){return{"onUpdate:modelValue":e=>{e?a():c()},modelValue:r.value,value:r.value}}return{allSelected:r,selection:t,hasSelected:p,selectAll:a,deselectAll:c,select:n,deselect:s,toggle:h,selected:f,bind:m,bindAll:l}}i.executeAction=v,i.useActions=x,i.useBulk=A,Object.defineProperty(i,Symbol.toStringTag,{value:"Module"})});
