(function(a,d){typeof exports=="object"&&typeof module<"u"?d(exports,require("@inertiajs/vue3"),require("vue")):typeof define=="function"&&define.amd?define(["exports","@inertiajs/vue3","vue"],d):(a=typeof globalThis<"u"?globalThis:a||self,d(a["@honed/action"]={},a.Inertia,a.Vue))})(this,function(a,d,o){"use strict";function v(t,i,c={},l={}){return t.route?(d.router.visit(t.route.url,{...l,method:t.route.method}),!0):t.action&&i?(d.router.post(i,{...c,name:t.name,type:t.type},l),!0):!1}function x(t,i,c={}){if(!t||!i||!t[i])throw new Error("The action group must be provided with valid props and key.");const l=o.computed(()=>t[i]),s=o.computed(()=>l.value.inline.map(n=>({...n,execute:(e,u={})=>r(n,e,u)}))),h=o.computed(()=>l.value.bulk.map(n=>({...n,execute:(e,u={})=>p(n,e,u)}))),f=o.computed(()=>l.value.page.map(n=>({...n,execute:(e={},u={})=>m(n,e,u)})));function r(n,e,u={}){v(n,l.value.endpoint,{...e,id:l.value.id,name:n.name,type:n.type},{...c,...u})}function p(n,e,u={}){v(n,l.value.endpoint,{...e,id:l.value.id},{...c,...u})}function m(n,e={},u={}){v(n,l.value.endpoint,{...e,id:l.value.id},{...c,...u})}return o.reactive({inline:s,bulk:h,page:f,executeInlineAction:r,executeBulkAction:p,executePageAction:m})}function y(){const t=o.ref({all:!1,only:new Set,except:new Set});function i(){t.value.all=!0,t.value.only.clear(),t.value.except.clear()}function c(){t.value.all=!1,t.value.only.clear(),t.value.except.clear()}function l(...e){e.forEach(u=>t.value.except.delete(u)),e.forEach(u=>t.value.only.add(u))}function s(...e){e.forEach(u=>t.value.except.add(u)),e.forEach(u=>t.value.only.delete(u))}function h(e,u){if(f(e)||u===!1)return s(e);if(!f(e)||u===!0)return l(e)}function f(e){return t.value.all?!t.value.except.has(e):t.value.only.has(e)}const r=o.computed(()=>t.value.all&&t.value.except.size===0),p=o.computed(()=>t.value.only.size>0||r.value);function m(e){return{"onUpdate:modelValue":u=>{u?l(e):s(e)},modelValue:f(e),value:e}}function n(){return{"onUpdate:modelValue":e=>{e?i():c()},modelValue:r.value,value:r.value}}return{allSelected:r,selection:t,hasSelected:p,selectAll:i,deselectAll:c,select:l,deselect:s,toggle:h,selected:f,bind:m,bindAll:n}}a.executeAction=v,a.useActions=x,a.useBulk=y,Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})});
