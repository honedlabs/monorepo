(function(n,o){typeof exports=="object"&&typeof module<"u"?o(exports,require("vue"),require("@inertiajs/vue3")):typeof define=="function"&&define.amd?define(["exports","vue","@inertiajs/vue3"],o):(n=typeof globalThis<"u"?globalThis:n||self,o(n["@honed/form"]={},n.Vue,n.Inertia))})(this,(function(n,o,g){"use strict";const c=new Map,p=o.ref({});function s(e){return o.defineAsyncComponent({loader:()=>import(p.value[e])})}function f(e){if(!c.has(e)){const t=s(e);return c.set(e,t),t}return c.get(e)}function a(e){p.value={...p.value,...e}}function d(e,t={}){const{component:i,attributes:r={},...j}=e,{schema:v,...m}=j,b=o.computed(()=>t[m.name]);return o.h(f(i),{...r,...m,error:b},{default:u(v,t)})}function u(e,t){return e===void 0?()=>[]:()=>e.map(i=>d(i,t))}const C=o.defineComponent({setup(e,{slots:t}){return()=>{var i;return(i=t.default)==null?void 0:i.call(t)}}}),l=o.defineComponent({props:{form:{type:Object,required:!0},errors:{type:Object,required:!0}},setup(e){return()=>o.h(C,{},{default:u(e.form.schema,e.errors)})}});function h(e){function t(r){e.cancel==="reset"?r==null||r():e.cancel!==void 0&&g.router.visit(e.cancel),r==null||r()}const i=o.defineComponent({props:{errors:{type:Object,default:()=>({})}},setup(r){return()=>o.h(l,{form:e,errors:r.errors})}});return{resolve:f,getComponent:d,getComponents:u,onCancel:t,Render:i}}const y={install(e,t){a(t)}};n.Render=l,n.getComponent=d,n.getComponents=u,n.load=s,n.plugin=y,n.resolve=f,n.resolveUsing=a,n.useComponents=h,Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})}));
